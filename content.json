{"pages":[{"title":"","text":"google-site-verification: google54765e92939cdff8.html","link":"/google54765e92939cdff8.html"},{"title":"é—œæ–¼æˆ‘","text":"Hi æˆ‘æ˜¯ Andyé€™é‚Šæœƒéš¨æ‰‹è¨˜éŒ„ä¸€äº›æˆ‘é‡åˆ°çš„ç¨‹å¼å•é¡Œ","link":"/about/index.html"}],"posts":[{"title":"Angular Lazy Loading","text":"åœ¨ Angular æ‡‰ç”¨ç¨‹å¼ä¸€è¼‰å…¥æ™‚ï¼Œé è¨­æœƒå°‡æ‰€æœ‰çš„ Module ä¸€æ¬¡å…¨éƒ¨è¼‰å…¥ï¼Œä½†å¦‚æœä»Šå¤©æ‡‰ç”¨ç¨‹å¼è¦æ¨¡å¾ˆå¤§ï¼Œæˆ–æ˜¯æŸäº› Module ä¸­éœ€è¦è¼‰å…¥çš„æ±è¥¿éå¤šï¼Œå°±æœƒæ‹–åˆ°æ•´å€‹æ‡‰ç”¨ç¨‹å¼çš„è¼‰å…¥æ™‚é–“ã€‚ ç‚ºäº†è§£æ±ºé€™å€‹å•é¡Œï¼ŒAngular æœ‰é‡å° Module æä¾› Lazy Loading çš„åŠŸèƒ½ï¼Œç°¡å–®ä¾†èªªå°±æ˜¯ç•¶éœ€è¦æ­¤ Module çš„æ™‚å€™å†é€²è¡Œè¼‰å…¥ï¼Œå¦‚æ­¤å°±ä¸æœƒå½±éŸ¿åˆ°æ•´å€‹æ‡‰ç”¨ç¨‹å¼çš„æ•ˆèƒ½ã€‚ å¯¦ç¾æ–¹å¼é€é Angular Router ä¸­å…§å»ºçš„åŠŸèƒ½å³å¯å¯¦ç¾ï¼Œæ­¥é©Ÿå¦‚ä¸‹ï¼š ä¿®æ”¹app-routing.module.ts 123456const routes: Routes = [ { path: 'customers', loadChildren: () =&gt; import('./customers/customers.module').then(m =&gt; m.CustomersModule) }]; åˆ©ç”¨loadChildrené€™å€‹å±¬æ€§ï¼Œæˆ‘å€‘å°±å¯ä»¥é€é import å°‡æˆ‘å€‘æƒ³è¦ lazy loading çš„ Moduleï¼Œåœ¨æ‡‰ç”¨ç¨‹å¼è§¸ç™¼åˆ°pathä¸­å®šç¾©çš„è·¯ç”±(åœ¨é€™å€‹ä¾‹å­ä¸­å°±æ˜¯/customers)çš„æ™‚å€™å°‡ CustomersModule é€²è¡Œè¼‰å…¥ã€‚ ä¿®æ”¹customers.module.ts 1234567891011import { CustomersRoutingModule } from './customers-routing.module';@NgModule({ declarations: [ CustomersComponent ], imports: [ CommonModule, CustomersRoutingModule ]}) é¡å¤–æ–°å¢customers-routing.module.tsï¼Œä¸¦æ–°å¢åˆ° CustomersModule çš„ imports ä¸­ï¼Œæˆ‘å€‘æœƒå°‡é—œæ–¼æ­¤ Module ä¸‹ Router çš„è¨­å®šæ‹†å‡ºä¾†æ”¾åœ¨é€™å€‹æª”æ¡ˆä¸­ã€‚ æ–°å¢customers-routing.module.ts 123456789101112const routes: Routes = [ { path: 'info', component: CustomersComponent }];@NgModule({ imports: [RouterModule.forChild(routes)], exports: [RouterModule]})export class CustomersRoutingModule { } é€™é‚Šæˆ‘å€‘å°±å¯ä»¥å®šç¾©åœ¨å­è·¯å¾‘ä¸‹è¦è¼‰å…¥å“ªå€‹ Componentï¼Œæœ€çµ‚çš„è·¯å¾‘æœƒæ˜¯åŸæœ¬app-routing.module.tsä¸­å®šç¾©çš„pathåŠ ä¸Šé€™é‚Šå®šç¾©çš„pathï¼Œä»¥ä¸Šä¾‹ä¾†èªªå°±æœƒæ˜¯åœ¨/customers/infoä¸‹è®€å–åˆ° CustomersComponentã€‚é€™é‚Šè¦æ³¨æ„éœ€è¦ç”¨forChildä¾†å®šç¾©å­è·¯ç”±ã€‚ é€éæŒ‡ä»¤å»ºç«‹å¦‚æœæˆ‘å€‘åœ¨ä¸€é–‹å§‹å°±æ±ºå®šè¦ä½¿ç”¨ lazy loading çš„æ–¹å¼è¼‰å…¥ Moduleï¼Œä¹Ÿå¯ä»¥é¸æ“‡ç”¨ä»¥ä¸‹æŒ‡ä»¤ç›´æ¥å»ºç«‹å¥½ä¸Šè¿°çš„å…ƒä»¶ï¼š 1ng generate module customers --route customers --module app.module å¯¦é©—æˆ‘å€‘å¯ä»¥åœ¨customers.components.tsä¸­åŠ ä¸Šconsole.logä¾†å¯¦é©—æ˜¯å¦æœ‰ lazy loading 12345678export class CustomersComponent implements OnInit { constructor() { } ngOnInit() { console.log(\"Customers Component Init\"); }} è®€å– http://localhost:4200 è®€å– http://localhost:4200/customers æ³¨æ„äº‹é … å¦‚æœ Module éœ€è¦ lazy loadingï¼Œéœ€æ³¨æ„app.module.tsè£¡é¢ä¸å¯ä»¥ import åˆ°é€™å€‹ Moduleï¼Œå¦å‰‡é‚„æ˜¯æœƒåœ¨æ‡‰ç”¨ç¨‹å¼å•Ÿå‹•æ™‚å°±è¼‰å…¥ã€‚","link":"/2022/05/29/angular-lazy-loading/"},{"title":"Angular å–å¾—å…ƒç´  offsetWidth æ™‚æœ‰èª¤è§£æ³•","text":"ä»Šå¤©åœ¨å·¥ä½œä¸Šé‡åˆ°ä¸€å€‹å•é¡Œï¼Œæˆ‘æœ‰ä¸€å€‹åŠŸèƒ½åŸ·è¡Œæ™‚æœƒåˆ‡æ›å…©å€‹ Angular Component çš„é¡¯ç¤ºï¼Œç•¶åˆ‡æ›åˆ°å…¶ä¸­ä¸€å€‹ Component æ™‚ï¼Œæˆ‘æœƒå»æŠ“å–ç•¶ä¸‹å®ƒçš„ offsetWidth åšé‹ç®—ä½¿ç”¨ï¼Œä½†æŠ“é€™å€‹ offsetWidth å»æ†‘ç©ºå°‘äº†15pxï¼Œå¾Œä¾†åœ¨æ‰¾äº†ä¸€æ®µæ™‚é–“çµ‚æ–¼æ‰¾åˆ°åŸå› ï¼Œåœ¨é€™é‚Šä»¥ä¸€å€‹ç°¡åŒ–éçš„ä¾‹å­ç´€éŒ„ä¸€ä¸‹ã€‚ ç¯„ä¾‹é€£çµï¼šhttps://stackblitz.com/edit/angular-ivy-bmpsfk å•é¡Œå‡è¨­æœ‰ä¸€å€‹æŒ‰éˆ•ï¼Œé»æ“Šä¹‹å¾Œå¯ä¾ç‹€æ…‹é¡¯ç¤ºä¸åŒçš„ Componentã€‚ 12345678&lt;div class=\"container\"&gt; &lt;app-first *ngIf=\"visibleComponent === 'first'; else second\"&gt;&lt;/app-first&gt; &lt;ng-template #second&gt; &lt;app-second&gt;&lt;/app-second&gt; &lt;/ng-template&gt;&lt;/div&gt;&lt;button (click)=\"switch()\"&gt;switch&lt;/button&gt; åœ¨ first component ä¸­æˆ‘å€‘å˜—è©¦å–å¾—è©²å…ƒç´ çš„offsetWidthã€‚ 1&lt;div #content&gt;first component&lt;/div&gt; 12345...ngAfterViewInit() { console.log('content width: ', this.content.nativeElement.offsetWidth);}... çµæœåœ¨ç•¶ç”± second åˆ‡æ›åˆ° first æ™‚ï¼Œå–å¾—çš„ offsetWidth ç‚º624pxï¼Œä½†å¯¦éš›æ‡‰ç‚º639pxï¼Œå°‘äº†15pxã€‚ åŸå› ç¶“éæ¸¬è©¦å¾Œç™¼ç¾ç•¶æœ‰è¼‰å…¥BrowserAnimationsModuleæ‰æœƒç™¼ç”Ÿæ­¤å•é¡Œï¼Œä¸”æ˜¯ second component ä¸­æœ‰ scroll bar çš„åŸå› ï¼Œå°è‡´åœ¨å–å¾— offsetWidth æ™‚å°‘äº† 15pxã€‚ ä½†æ˜æ˜æˆ‘æ˜¯åœ¨ first component ä¸­å– offsetWidth é˜¿ï¼Ÿæ€éº¼æœƒåƒåˆ° scroll barï¼Ÿ åŸä¾†æ˜¯åœ¨ ngAfterViewInit åŸ·è¡Œçš„ç•¶ä¸‹å­ Component çš„ç•«é¢æœƒæ¯”çˆ¶ Component é‚„æ—©é‹ç®—ï¼Œæˆ‘å€‘ ngIf çš„æ¢ä»¶æ˜¯å¯«åœ¨çˆ¶ Component é€²è¡Œåˆ¤æ–·ï¼Œæ‰€ä»¥ç•¶ä¸‹åƒåˆ°çš„çˆ¶å±¤å¯¬åº¦é‚„æœƒä¿ç•™åœ¨åˆ‡æ›åˆ°å¦ä¸€å€‹ Component ä¹‹å‰ã€‚ å­ Component çš„ ngAfterViewInit ä¹Ÿæœƒæ¯”çˆ¶ Component çš„åŒä¸€å€‹äº‹ä»¶é‚„æ—©åŸ·è¡Œã€‚ ç”±æ–¼ second component å¤šäº† scroll barï¼Œä¸”åœ¨è¼‰å…¥BrowserAnimationsModuleæ™‚ scroll bar æœƒè¢«ç®—æˆ 15px çš„ç©ºé–“ï¼Œæ‰€ä»¥åœ¨å–å¾— offsetWidth æœƒå°‘äº† scroll bar ä½”å»çš„å¯¬åº¦ã€‚ è§£æ³•ç”±æ–¼æ˜¯åŸ·è¡Œé †åºçš„å•é¡Œï¼Œæ‰€ä»¥æœ€ç°¡å–®çš„è§£æ³•å°±æ˜¯é€ésetTimeoutå°‡å–å¾— offsetWidth çš„å‹•ä½œå¼·åˆ¶ç§»å‹•ç½® event loop çš„æœ€å¾ŒåŸ·è¡Œã€‚ 12345678910ngAfterViewInit() { console.log('content width: ', this.content.nativeElement.offsetWidth); setTimeout(() =&gt; { console.log( 'content width after: ', this.content.nativeElement.offsetWidth ); });} åŸ·è¡Œçµæœ ç›®å‰åªæœ‰å˜—è©¦åˆ°é€™å€‹æ–¹å¼ï¼Œè‹¥æœ‰æ‰¾åˆ°æ›´å¥½çš„å¯«æ³•æœƒå†æ›´æ–°ã€‚","link":"/2022/06/01/angular-offsetwidth-bug/"},{"title":"æ¢è¨ Angular Module","text":"Angular æœ¬èº«çš„è¨­è¨ˆæ¦‚å¿µå°±æ˜¯ä½¿ç”¨æ¨¡çµ„åŒ–çš„æ©Ÿåˆ¶ï¼ŒModule (æ¨¡çµ„) æ˜¯çµ„æˆ Angular æ‡‰ç”¨ç¨‹å¼çš„åŸºæœ¬å–®ä½ï¼Œæ¯å€‹ Angular å°ˆæ¡ˆæœ€é–‹å§‹éƒ½æœƒæœ‰ä¸€å€‹æ¨¡çµ„ç•¶ä½œç¨‹å¼é€²å…¥é»ï¼Œç¨±ç‚ºæ ¹æ¨¡çµ„(Root Module) ã€‚é€é Angular CLI å‰µå»ºçš„å°ˆæ¡ˆæœƒå°‡æ­¤æ ¹æ¨¡çµ„å‘½åç‚ºAppModuleï¼Œä¸¦æ”¾åœ¨app.module.tsæª”æ¡ˆä¸­ã€‚ ä¹Ÿå¯ä»¥å°‡æœ‰ç›¸åŒç‰¹æ€§çš„åŠŸèƒ½æ‹†å‡ºä¾†ï¼Œçµ„åˆæˆä¸åŒçš„æ¨¡çµ„ï¼Œå„å€‹æ¨¡çµ„é–“ä¾ç¨‹å¼æ¶æ§‹ç›¸äº’å¼•ç”¨ï¼Œçµ„åˆæˆ Angular æ‡‰ç”¨ç¨‹å¼ã€‚æ¨¡çµ„ä¸­å¯ä»¥é€éè¨­å®šçš„æ–¹å¼ï¼Œå®šç¾©æ­¤æ¨¡çµ„ä¸­åŒ…å«çš„ componentsã€directivesã€pipes ç­‰ï¼Œä»¥åŠå…¶ä»–èˆ‡æ¨¡çµ„ç›¸é—œçš„å±¬æ€§ï¼Œä»¥ä¸‹æˆ‘å€‘å°±ä¾†ç ”ç©¶ä¸€ä¸‹ Angular Module çš„ä½¿ç”¨æ–¹å¼ä»¥åŠä½¿ç”¨æƒ…å¢ƒã€‚ çµ„æˆ12345678910@NgModule({ declarations: [ AppComponent, ], imports: [ BrowserModule, ], providers: [], bootstrap: [AppComponent]}) å®šç¾©æ¨¡çµ„çš„æª”æ¡ˆä¸­æœƒåŒ…å«@NgModuleï¼Œç”¨ä¾†å®šç¾©æ¨¡çµ„çš„è¨­å®šã€‚ä¸»è¦åŒ…å«ä»¥ä¸‹å¹¾å€‹å±¬æ€§ï¼š declarationsç”¨ä¾†å®£å‘Šæ­¤æ¨¡çµ„ä¸­åŒ…å«çš„ componentsã€directivesã€pipesã€‚ 12345declarations: [ UserComponent, CustomPipe, FileDirective],; è‹¥ä½¿ç”¨ng generate æŒ‡ä»¤ä¾†ç”¢ç”Ÿç‰©ä»¶ï¼ŒAngular CLI æœƒè‡ªå‹•å¹«ä½ æŠŠç‰©ä»¶åŠ å…¥ declarations ä¸­ã€‚ importsæƒ³è¦é¡å¤–è¼‰å…¥çš„ moduleï¼Œè¼‰å…¥å¾Œå°±å¯ä»¥ä½¿ç”¨è©² module ä¸­ exports çš„ç‰©ä»¶ã€‚ 1234imports: [ BrowserModule, UserModule], å¦‚ä¸Šä¾‹ï¼Œåªè¦ import UserModuleï¼Œæ¨¡çµ„å…§å°±å¯ä»¥ä½¿ç”¨ UserModule ä¸­ export çš„æ‰€æœ‰ç‰©ä»¶ã€‚ æ ¹æ¨¡çµ„å¿…é ˆè¦ import BrowserModuleã€‚ å…¶ä»–æ¨¡çµ„å¿…é ˆè¦ import CommonModuleã€‚ åªè¦æ˜¯ç”¨ CLI å»ºç«‹çš„ï¼Œä¸Šè¿°å…©é …éƒ½æœƒè‡ªå‹• importã€‚ exportsè¦åŒ¯å‡ºçµ¦å…¶ä»–æ¨¡çµ„ä½¿ç”¨çš„ç‰©ä»¶ã€‚ 12345678declarations: [ UserComponent, CustomPipe, FileDirective],;exports: [ UserComponent], è¦ export çš„ç‰©ä»¶å¿…é ˆå­˜åœ¨æ–¼ declarations æˆ– import çš„ Module ä¸­æ‰å¯ä»¥ã€‚ ä¸Šä¾‹ export çš„åªæœ‰ UserComponentï¼Œå› æ­¤å¼•å…¥æ­¤ module çš„æ¨¡çµ„åªå¯ä½¿ç”¨ UserComponentã€‚ providerså®£å‘Šå¯ä»¥ä¾è³´æ³¨å…¥çš„ serviceï¼Œæ•´å€‹æ‡‰ç”¨ç¨‹å¼éƒ½å¯ä»¥ä½¿ç”¨åˆ°æ­¤è™•å®£å‘Šçš„ serviceã€‚ 123providers: [ UserService], é—œæ–¼ providers æœƒå†æ•´ç†ä¸€ç¯‡æ–‡ç« é€²è¡Œæ¢è¨ã€‚ bootstrap1bootstrap: [AppComponent], å®šç¾©æ ¹å…ƒä»¶ï¼Œä½œç‚ºæ‡‰ç”¨ç¨‹å¼å•Ÿå‹•å¾Œé è¨­è®€å–çš„å…ƒä»¶ï¼Œåªæœ‰æ ¹æ¨¡çµ„éœ€è¦å®šç¾©æ­¤å±¬æ€§ï¼Œä¸€èˆ¬ä¸å¤ªéœ€è¦æ›´å‹•ã€‚ ä½¿ç”¨æƒ…å¢ƒModule ç”¨æ³•é™¤äº†æœ€åŸºæœ¬æœƒæœ‰çš„æ ¹æ¨¡çµ„(Root Module) å¤–ï¼Œå¸¸è¦‹çš„é‚„æœ‰ä»¥ä¸‹å…©ç¨®ç”¨æ³•ï¼š Feature Moduleå…¶å¯¦å°±æ˜¯æœ€å¸¸è¦‹ã€ç¬¬ä¸€å€‹æœƒæƒ³åˆ°ä½¿ç”¨ Module çš„æƒ…å¢ƒã€‚å°‡æ‡‰ç”¨ç¨‹å¼ä¸­ä½ èªç‚ºå¯ä»¥é¡å¤–æ‹†å‡ºä¾†æ’°å¯«æˆä¸€å€‹åŠŸèƒ½çš„ç¨‹å¼ç‰‡æ®µï¼Œæ‹†å‡ºä¾†æˆç‚ºä¸€å€‹ Moduleï¼Œå°±æœƒç¨±å®ƒç‚ºFeature Moduleã€‚ ä¾‹å¦‚å‡è¨­ä»Šå¤©è¦å¯¦ä½œä¸€å€‹ç¶²é èŠå¤©å®¤ï¼ŒèŠå¤©å®¤å¯ä»¥å‚³é€çš„è¨Šæ¯ç¨®é¡åˆ†ç‚ºæ–‡å­—ã€æª”æ¡ˆã€åœ–ç‰‡ã€è²¼åœ–ç­‰ï¼Œæˆ‘å€‘å°±å¯ä»¥æŠŠå‚³é€çš„ã€Œè¨Šæ¯ã€ æ‹†ä¸€å€‹ MessageModuleï¼Œè£¡é¢åŒ…å« TextComponentã€FileComponentã€ImageComponent â€¦ èˆ‡å…¶ä»–ä¸²æ¥çš„ Service ç­‰ã€‚ Shared Moduleåœ¨ Angular ä¸­å¸¸å¸¸æœƒé‡åˆ°å¾ˆå¤šç‰©ä»¶(componentã€directiveã€pipe)ä¸€ç›´è¢«é‡è¤‡ä½¿ç”¨ï¼Œæ­¤æ™‚ç‚ºäº†ä¸è®“é€™äº›ç‰©ä»¶æ•£è½å„åœ°ï¼Œé‚„è¦è®“ Module ä¸€ç›´å¼•ç”¨ä¾†å¼•ç”¨å»ï¼Œé€šå¸¸å¯ä»¥å»ºç«‹ä¸€å€‹Shared Moduleä¾†çµ±ä¸€ç®¡ç†é€™äº›ç‰©ä»¶ï¼Œè¦ä½¿ç”¨é€™äº›ç‰©ä»¶çš„ Module åªéœ€è¦åŒ¯å…¥ä¸€å€‹Shared Moduleå°±å¯ä»¥äº†ã€‚ 12345678910111213@NgModule({ declarations: [ TableComponent, PagerComponent, PaginationComponent ], exports: [ TableComponent, PagerComponent, PaginationComponent ],})export class SharedModule {} å¦‚ä¸Šä¾‹ï¼Œå…¶ä»–æ¨¡çµ„åªéœ€è¦ import SharedModule å°±å¯ä»¥ä½¿ç”¨è£¡é¢çš„æ‰€æœ‰ç‰©ä»¶ã€‚","link":"/2022/05/28/angular-module/"},{"title":"position:sticky é‡åˆ° overflow æ™‚å¤±æ•ˆè§£æ³•","text":"ä»Šå¤©åœ¨è™•ç†å°‡ table è¡¨é ­å‡çµåœ¨æœ€ä¸Šæ–¹æ™‚ï¼Œæ‰¾åˆ°äº†ä½¿ç”¨position: stickyçš„æ–¹å¼è§£æ±ºï¼Œä½†è‹¥æˆ‘è¦åŒæ™‚åœ¨å°ç•«é¢æ™‚è®“é€™å€‹ table çš„ X è»¸èƒ½å¤ æœ‰ scroll bar å»å‡ºç¾äº†å•é¡Œï¼Œä»¥ä¸‹ç´€éŒ„ä¸€ä¸‹å•é¡ŒåŸå› èˆ‡è§£æ±ºæ–¹å¼ã€‚ ç¯„ä¾‹é€£çµï¼šhttps://codepen.io/andyhung0723/pen/YzeOovW å•é¡Œå‡è¨­æˆ‘æœ‰ä¸€å€‹ tableï¼Œè‹¥æˆ‘æƒ³å°‡å®ƒçš„è¡¨é ­å‡çµåœ¨æœ€ä¸Šæ–¹ä¸å‹•ï¼Œå¯ä»¥ä½¿ç”¨position: stickyï¼š 1234.table-sticky .th { position: sticky; top: 0;} è‹¥åœ¨å°ç•«é¢æ™‚æƒ³è¦æ­¤ table ä¸è¦æ’é–‹æ•´é«”å¯¬åº¦ï¼Œä¸€èˆ¬æœƒåœ¨å¤–å±¤ä½¿ç”¨overflow-x: autoä¾†è®“ X è»¸ç”¢ç”Ÿ scroll barï¼š 123.table-sticky-container { overflow-x: auto;} æ­¤æ™‚å°±æœƒç™¼ç¾åŸæœ¬position: stickyçš„å‡çµæ•ˆæœå»å¤±æ•ˆäº†ã€‚ åŸå› ç¶“æ¸¬è©¦ç™¼ç¾åªè¦position: stickyä¸Šæ‰€æœ‰éšå±¤çš„çˆ¶å…ƒç´ åªè¦æœ‰ä¸€å€‹çš„overflowå€¼æ˜¯visibleä»¥å¤–çš„å…¶ä»–å€¼ï¼Œå°±æœƒå°è‡´å¤±æ•ˆã€‚ è§£æ³•ç›®å‰å–®ç´”ä½¿ç”¨ CSS è²Œä¼¼æ²’æœ‰è§£æ³•ï¼Œå› æ­¤æˆ‘ä½¿ç”¨ JavaScript çš„ scroll äº‹ä»¶ä¾†å‹•æ…‹ transform è¡¨é ­çš„ä½ç½®ä¾†è§£æ±ºï¼Œç¨‹å¼ç¢¼å¦‚ä¸‹ï¼š 12345678910111213141516171819202122window.addEventListener('scroll', function(event) { var scrollTop = window.pageYOffset || document.documentElement.scrollTop || document.body.scrollTop || 0; var stickyTables = document.querySelectorAll('.table-sticky'); for(var i = 0 ; i &lt; stickyTables.length ; i++) { var thead = stickyTables[i].querySelector('thead'); var offsetTop = stickyTables[i].offsetTop; var offsetHeight = stickyTables[i].offsetHeight - thead.offsetHeight; var transformY = getTranslateY(thead); if(scrollTop &gt;= offsetTop &amp;&amp; scrollTop &lt;= offsetTop + offsetHeight) { transformY = scrollTop - offsetTop; }else if(scrollTop &lt; offsetTop){ transformY = 0; } thead.style.transform = 'translateY('+ transformY +'px)'; } });function getTranslateY(element) { var style = window.getComputedStyle(element); var matrix = new WebKitCSSMatrix(style.transform); return matrix.m42;}","link":"/2022/06/08/position-sticky-issue/"},{"title":"Google å®˜æ–¹æ­£å¼å®£å¸ƒã€Œé …ç›®ç¯„åœçš„è‡ªè¨‚ç¶­åº¦ (item scope)ã€ä¸Šç·šå•¦!","text":"ğŸ‘‰ æ–‡ç« å…§å®¹æ·±åº¦ : 3/5é¡†æ˜ŸğŸ‘‰ é©ç”¨å°è±¡ : GA4 æœ‰åšé›»å­å•†å‹™äº‹ä»¶ â–¶ ä»€éº¼æ˜¯é …ç›®ç¯„åœè‡ªè¨‚ç¶­åº¦(item scope) ?é …ç›®ç¯„åœçš„ç¶­åº¦ï¼Œæ˜¯æŒ‡å°ˆé–€ç”¨ä¾†è¿½è¹¤ GA4 é›»å­å•†å‹™äº‹ä»¶ä¸­å•†å“çš„è³‡è¨Šï¼Œä¾‹å¦‚ : å•†å“åç¨±ã€å•†å“idã€é¡è‰²ã€å°ºå¯¸ã€é‡é‡ç­‰ç­‰ã€‚åœ¨é …ç›®ç¯„åœçš„ç¶­åº¦ä¸­ï¼Œæœ‰åˆ† GA4 é è¨­ç¶­åº¦ &amp; æœ€è¿‘æ‰å…¬å¸ƒçš„è‡ªè¨‚ç¶­åº¦ã€‚èˆ‰ä¾‹ä¾†èªª :GA4 é è¨­ç¶­åº¦ : å•†å“åç¨±(item_name)ã€å•†å“ç·¨è™Ÿ(item_id)ã€å•†å“åƒ¹æ ¼(price)ç­‰ç­‰ã€‚å®˜æ–¹æ–‡ä»¶è‡ªè¨‚ç¶­åº¦ : ç”¨ä¾†è£œè¶³ GA4 é è¨­ç¶­åº¦ä¸­æ²’æœ‰çš„ç¶­åº¦ï¼Œç”±è‡ªå·±å®šç¾©ï¼Œä¾‹å¦‚ : èª²ç¨‹é•·åº¦ã€å”®ç¥¨ç¨®é¡ã€å•†å“é—œéµå­—ç­‰ç­‰ã€‚æ•¸é‡é™åˆ¶ : å…è²»ç‰ˆè³‡æº : 10å€‹ / ä»˜è²»ç‰ˆè³‡æº : 25å€‹ â–¶ é …ç›®ç¯„åœè‡ªè¨‚ç¶­åº¦(item scope)æƒ…å¢ƒèˆ‰ä¾‹ä»¥é€™ä¸€å€‹å•†å“èˆ‰ä¾‹ï¼Œå³é‚Š items é™£åˆ—ä¸­çš„åƒæ•¸(item_nameã€item_idã€price ç­‰)éƒ½å±¬æ–¼ GA4 çš„é è¨­é …ç›®ç¯„åœç¶­åº¦ã€‚ è‹¥æƒ³å¤šè¿½è¹¤æ¯å­çš„å®¹é‡ï¼ŒGA4 é è¨­çš„é …ç›®ç¯„åœç¶­åº¦åˆæ²’æœ‰æä¾›å°æ‡‰åƒæ•¸ï¼Œé€™æ™‚å€™ï¼Œå°±å¯ä»¥è‡ªè¨‚ä¸€å€‹é …ç›®ç¯„åœçš„è‡ªè¨‚ç¶­åº¦ï¼ŒDatalayer èª¿æ•´å¾Œå¦‚ä¸‹åœ–ï¼Œæ–°å¢çš„åƒæ•¸ä¸€å®šè¦æ”¾åœ¨ items é™£åˆ—ä¸­ã€‚ â–¶ é …ç›®ç¯„åœè‡ªè¨‚ç¶­åº¦(item scope)è¦å¦‚ä½•åœ¨ GA4 ä¸­è¨­å®š ?ç¢ºèªæœ‰æŠŠè‡ªè¨‚çš„åƒæ•¸é€åˆ° GA4 å¾Œï¼Œæ¥ä¸‹ä¾†å°±æ˜¯è¦åœ¨ GA4 ä¸­è¨­å®šè‡ªè¨‚ç¶­åº¦ï¼Œè¨­å®šè·¯å¾‘ : ç®¡ç†(å·¦ä¸‹è§’é½’è¼ª) &gt; è‡ªè¨‚å®šç¾© &gt; å»ºç«‹è‡ªè¨‚ç¶­åº¦(è—åº•æŒ‰éˆ•) &gt; ç¯„åœé¸ : é …ç›® &gt; æŒ‰ä¸‹å„²å­˜å¯åƒè€ƒä»¥ä¸‹åœ–ç‰‡ï¼Œä¾åºè¨­å®šã€‚ (ä¸‹åœ–)è¨˜å¾—ç¯„åœè¦é¸ã€Œé …ç›®ã€ï¼Œé …ç›®åƒæ•¸éœ€è¦å¡«å¯«æ‚¨åœ¨ç¶²ç«™ä¸­å‚³é€çš„åƒæ•¸åç¨±ï¼Œä»¥æœ¬æ¬¡ç¯„ä¾‹ç‚ºä¾‹ï¼Œå‰‡æ˜¯å¡«å…¥ capacity (ä¸¦éç…§å¡«å¯« capacity) ã€‚ (ä¸‹åœ–)å„²å­˜å¾Œï¼Œæœƒå‡ºç¾ç¯„åœç‚ºã€Œé …ç›®ã€çš„è‡ªè¨‚ç¶­åº¦ã€‚ â–¶ é …ç›®ç¯„åœè‡ªè¨‚ç¶­åº¦(item scope)åœ¨ GA4 æ¢ç´¢å ±è¡¨ä¸­çš„å‘ˆç¾ç›®å‰é‚„ç„¡æ³•åœ¨é è¨­å ±è¡¨ä¸­ï¼Œé€éæ¬¡è¦ç¶­åº¦æˆ–æ˜¯åˆ©ç”¨è‡ªè¨‚å ±è¡¨åŠŸèƒ½æ‹‰å–é …ç›®ç¯„åœç¶­åº¦ï¼Œæ‰€ä»¥è¨­å®šå®Œçš„é …ç›®ç¯„åœè‡ªè¨‚ç¶­åº¦ç„¡æ³•å‘ˆç¾åœ¨é›»å­å•†å‹™å ±è¡¨ä¸­ï¼Œåªèƒ½åœ¨æ¢ç´¢å ±è¡¨ä½¿ç”¨ï¼Œé€™éƒ¨åˆ†è¼ƒå¯æƒœï¼Œå¸Œæœ›æœªä¾†èƒ½æ›´æ–°ä¸Šå»ã€‚ è£œå……æé†’ï¼Œé›»å­å•†å‹™ç›¸é—œçš„ç¶­åº¦éƒ½åªèƒ½æ­é…ä½¿ç”¨éƒ¨åˆ†æŒ‡æ¨™ï¼Œæ‰€ä»¥å»ºè­°å…ˆæ‹‰å–é …ç›®ç¯„åœçš„ç¶­åº¦å¾Œï¼Œå†é¸æ“‡æŒ‡æ¨™(ç„¡æ³•ä½¿ç”¨çš„æŒ‡æ¨™æœƒè¢«åç°)ã€‚ æ­¤å¤–Looker Studio ä¸­ä¹Ÿç„¡æ³•æ‹‰å–é …ç›®ç¯„åœçš„è‡ªè¨‚ç¶­åº¦ï¼Œä»¥ä¸Šçš„é™åˆ¶å¾…æœªä¾†æ›´æ–°å¾Œï¼Œå†åˆ†äº«çµ¦å¤§å®¶~","link":"/2023/04/16/ga/ga4_share_0416/"},{"title":"GA4 vs GA3 ä¾†æº/åª’ä»‹ BigQuery æ¬„ä½è§£æ","text":"ğŸ‘‰ æ–‡ç« å…§å®¹æ·±åº¦ : 3/5é¡†æ˜ŸğŸ‘‰ é©ç”¨å°è±¡ : æœ‰ä½¿ç”¨ BigQuery è£½ä½œä¾†æº/åª’ä»‹å ±è¡¨ â–¶ ä»€éº¼æ˜¯ä¾†æº/åª’ä»‹ ? ç°¡å–®ä¾†èªªå°±æ˜¯åˆ¤æ–·é€™å€‹æµé‡å¾å“ªé‚Šä¾†? æ˜¯å¾ Google æœå°‹å¼•æ“é€²å…¥ç¶²ç«™é‚„æ˜¯å¾ FB ç²‰å°ˆé€²å…¥ç¶²ç«™ã€‚ä»¥ä¸‹ç‚º GA3 &amp; GA4 çš„ä¾†æº/åª’ä»‹å ±è¡¨è·¯å¾‘ GA3 : ç²å®¢ &gt; æ‰€æœ‰æµé‡ &gt; ä¾†æº/åª’ä»‹ GA4 : ç²å®¢ &gt; æµé‡é–‹ç™¼ : å·¥ä½œéšæ®µé è¨­ç®¡é“åˆ†çµ„ (å¦‚ä¸‹åœ–) â–¶ GA3 vs. GA4 BigQuery ä¾†æº/åª’ä»‹æ¬„ä½æ¯”è¼ƒè¡¨GA3 æ™‚ä»£ï¼Œå¾ BigQuery ä¸­æå–ä¾†æº/åª’ä»‹æ•¸æ“šæ™‚ï¼Œæœƒä½¿ç”¨æ¬„ä½ã€ŒtrafficSource.sourceã€&amp;ã€ŒtrafficSource.mediumã€ï¼Œé€™æ˜¯æ²’æœ‰éŒ¯çš„!é€™å…©å€‹æ¬„ä½ä»£è¡¨çš„æ˜¯æ¯æ¬¡é€²ç«™çš„æ¸ é“ã€‚&lt;é™„ä¸Š GA3 åŒ¯å‡º BigQuery çš„çµæ§‹å®šç¾©&gt; ç•¶çœ‹åˆ° GA4 åŒ¯å‡ºåˆ° BigQuery çš„ Dataset ä¸­çœ‹åˆ°ã€Œtraffic_source.sourceã€&amp;ã€Œtraffic_source.mediumã€æ™‚ï¼Œå¿ƒä¸­æ˜¯ä¸æ˜¯ç„¡æ¯”å–œæ‚…ï¼Œå°±æ˜¯ä»–æƒ¹ :100: ä½†æ˜¯! ç¾åœ¨æˆ‘å€‘ä¾†çœ‹ä¸€ä¸‹ Google çš„å®˜æ–¹æ–‡ä»¶èªªæ˜(é™„ä¸Šæˆªåœ–&amp;æ–‡ä»¶)ï¼Œè£œå……:é€™å…©å€‹æ¬„ä½æœƒå°æ‡‰åˆ° GA4 ç¶­åº¦ç‚ºã€Œæœ€åˆæ‹›æ”¬åˆ°ä½¿ç”¨è€…çš„ä¾†æº/åª’ä»‹ã€ traffic_source.source : åˆæ¬¡æ‹›æ”¬åˆ°ä½¿ç”¨è€…çš„è¯æ’­ç¶²åç¨±ã€‚ traffic_source.medium : åˆæ¬¡æ‹›æ”¬åˆ°ä½¿ç”¨è€…çš„åª’ä»‹åç¨±ã€‚ ã€Œåˆæ¬¡æ‹›æ”¬ã€æŒ‡çš„æ˜¯ç¬¬ä¸€æ¬¡é€²åˆ°ç¶²ç«™çš„ä½¿ç”¨è€…æ˜¯å¾å“ªå€‹æ¸ é“é€²å…¥ç¶²ç«™ï¼Œæ˜¯ FB å»£å‘Šé‚„æ˜¯ Google è‡ªç„¶æœå°‹ç­‰ç­‰ã€‚èˆ‰ä¾‹ä¾†èªª :å°æ˜é»äº† Google å»£å‘Šï¼Œç¬¬ä¸€æ¬¡é€²åˆ°ç¶²ç«™ä¸­ï¼Œé‚£æ¬„ä½å€¼æœƒå¦‚ä¸‹ traffic_source.source : google traffic_source.medium : cpc é‚£å°æ˜éš”å¤©å¾ LINE å®˜æ–¹å¸³è™Ÿé€²å…¥ç¶²ç«™ï¼Œé‚£æ¬„ä½å€¼æ˜¯ä»€éº¼?å€¼é‚„æ˜¯ä¸€æ¨£çš„ ! å› ç‚ºã€Œtraffic_source.source å’Œ traffic_source.medium é€™å…©å€‹æ¬„ä½å°±æ˜¯é€™å…©å€‹æ¬„ä½åƒ…è¨˜éŒ„ç”¨æˆ¶é¦–æ¬¡è¨ªå•ç¶²ç«™æ™‚çš„ä¾†æºåª’ä»‹ traffic_source.source : google traffic_source.medium : cpc â–¶é‚£ç¬¬2æ¬¡çš„ä¾†æºåª’ä»‹è¦æ€éº¼å–å¾—?GA4 çš„æ•¸æ“šæ¨¡å‹æ˜¯ç”±äº‹ä»¶çµ„æˆï¼Œæ‰€ä»¥æ¯å€‹ event_name å°æ‡‰ä¸€å€‹è³‡æ–™åˆ—ã€‚event_name = page_view æŒ‡çš„å°±æ˜¯æ¯ä¸€æ¬¡çš„ç¶²ç«™ç€è¦½ï¼Œæ‰€ä»¥ç¬¬äºŒæ¬¡é€²ç«™çš„ä¾†æºåª’ä»‹ï¼Œæœƒå‡ºç¾åœ¨äº‹ä»¶åç‚º page_view çš„è³‡æ–™åˆ—ä¸­ï¼ŒåŒ…å« source å’Œ medium åƒæ•¸ã€‚ â–¶2ç¨®æƒ…å¢ƒèˆ‡å°æ‡‰å€¼ï¼Œåˆ†äº«çµ¦å¤§å®¶æƒ…å¢ƒ1 :å°æ˜å¾ Google è‡ªç„¶æœå°‹ç¬¬1æ¬¡é€²ç«™åˆ°é¦–é ï¼Œé»äº†ç«™å…§ UTM(Urchin Tracking Module) åˆ°æ´»å‹•é  ä¸‹è¡¨ç‚º BQ ä¸­çš„è³‡æ–™åˆ—ç¤ºæ„ event_date event_name event_params.key event_params_value.string_value traffic_source.source traffic_source.medium 20230222 first_visit page_location é¦–é ç¶²å€ google organic 20230222 session_start page_location é¦–é ç¶²å€ google organic 20230222 page_view page_location é¦–é ç¶²å€ google organic source google medium organic 20230222 page_view page_location ç«™å…§UTMæ´»å‹•é  google organic source Amy1 medium Test1 æƒ…å¢ƒ2 : å»¶çºŒæƒ…å¢ƒ1ï¼Œéš”å¤©å°æ˜é»äº† FB ç²‰å°ˆçš„è²¼æ–‡é€²å…¥äº†ç¶²ç«™å•†å“é ï¼Œç²‰å°ˆè²¼æ–‡çš„é€£çµæœ‰å¸¶ UTM ç‚º Facebook / postä¸‹è¡¨ç‚º BQ ä¸­çš„è³‡æ–™åˆ—ç¤ºæ„ event_date event_name event_params.key event_params_value.string_value traffic_source.source traffic_source.medium 20230223 session_start page_location å•†å“é  google organic 20230223 page_view page_location å•†å“é  google organic source Facebook medium post çµè«– : traffic_source æ¬„ä½åƒ…è¨˜éŒ„ç”¨æˆ¶é¦–æ¬¡è¨ªå•ç¶²ç«™æ™‚çš„ä¾†æºåª’ä»‹ï¼Œä¸æœƒå› æœªä¾†ç”¨æˆ¶é€²å…¥ç¶²ç«™çš„æ¸ é“è€Œæ”¹è®Šå…¶å€¼ã€‚é™„ä¸ŠæŸ¥è©¢ SQL 12SELECT event_date,event_name, event_params, traffic_source.source, traffic_source.mediumFROM `ä½ çš„å·¥ä½œè¡¨åç¨±`","link":"/2023/04/20/ga/ga4_share_0420/"}],"tags":[],"categories":[{"name":"Angular","slug":"Angular","link":"/categories/Angular/"},{"name":"CSS","slug":"CSS","link":"/categories/CSS/"},{"name":"Google Analytics","slug":"Google-Analytics","link":"/categories/Google-Analytics/"}]}